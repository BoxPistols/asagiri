<!DOCTYPE html>
<html lang="ja" data-theme="light">
<head>
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing Architecture - Asagiri Design System</title>
    <link rel="stylesheet" href="../../dist/asagiri.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            background-color: var(--color-background);
            color: var(--color-text);
        }
        .doc-header {
            background: linear-gradient(135deg, #0f766e 0%, #14b8a6 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        .doc-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem 4rem;
        }
        .doc-section {
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--color-surface);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .doc-section h2 {
            color: var(--color-primary);
            margin-top: 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--color-border);
        }
        .code-block {
            background: var(--color-background);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        .copy-btn {
            float: right;
            margin-bottom: 0.5rem;
        }
        .theme-toggle {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
        }
        .info-box {
            padding: 1rem;
            background: var(--color-info-bg, #e7f3ff);
            border-left: 4px solid var(--color-info);
            border-radius: var(--border-radius);
            margin: 1rem 0;
        }
        .success-box {
            padding: 1rem;
            background: var(--color-success-bg, #d4edda);
            border-left: 4px solid var(--color-success);
            border-radius: var(--border-radius);
            margin: 1rem 0;
        }
        .warning-box {
            padding: 1rem;
            background: var(--color-warning-bg, #fff3cd);
            border-left: 4px solid var(--color-warning);
            border-radius: var(--border-radius);
            margin: 1rem 0;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        .test-card {
            background: var(--color-background);
            border: 2px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        .test-card:hover {
            border-color: var(--color-primary);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .test-card h4 {
            margin-top: 0;
            color: var(--color-primary);
        }
        .test-level {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .level-critical {
            background: #fecaca;
            color: #991b1b;
        }
        .level-high {
            background: #fed7aa;
            color: #9a3412;
        }
        .level-medium {
            background: #fef3c7;
            color: #92400e;
        }
        .level-low {
            background: #d1fae5;
            color: #065f46;
        }
        [data-theme="dark"] .level-critical {
            background: #7f1d1d;
            color: #fecaca;
        }
        [data-theme="dark"] .level-high {
            background: #7c2d12;
            color: #fed7aa;
        }
        [data-theme="dark"] .level-medium {
            background: #78350f;
            color: #fef3c7;
        }
        [data-theme="dark"] .level-low {
            background: #064e3b;
            color: #d1fae5;
        }
        .nav-pills {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        .nav-pills a {
            padding: 0.5rem 1rem;
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            text-decoration: none;
            color: var(--color-text);
            transition: all 0.2s;
        }
        .nav-pills a:hover {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }
        /* Scroll to top button */
        .scroll-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .scroll-top.show {
            opacity: 1;
            visibility: visible;
        }
        .scroll-top:hover {
            background: var(--color-primary-dark, #2563eb);
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.3);
        }

        /* Breadcrumb Navigation */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 0;
            margin-bottom: 2rem;
            font-size: 0.875rem;
            flex-wrap: wrap;
        }
        .breadcrumb-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .breadcrumb-item a {
            color: var(--color-text-muted, #6b7280);
            text-decoration: none;
            transition: color 0.2s;
        }
        .breadcrumb-item a:hover {
            color: var(--color-primary);
        }
        .breadcrumb-item.active {
            color: var(--color-text);
            font-weight: 500;
        }
        .breadcrumb-separator {
            color: var(--color-text-muted, #6b7280);
            user-select: none;
        }

        /* Previous/Next Navigation */
        .page-nav {
            display: flex;
            justify-content: space-between;
            gap: 2rem;
            margin-top: 4rem;
            padding-top: 3rem;
            border-top: 2px solid var(--color-border);
        }
        .page-nav-link {
            flex: 1;
            max-width: 45%;
            padding: 1.5rem;
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            text-decoration: none;
            color: var(--color-text);
            transition: all 0.3s ease;
        }
        .page-nav-link:hover {
            border-color: var(--color-primary);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        .page-nav-link.prev {
            text-align: left;
        }
        .page-nav-link.next {
            text-align: right;
            margin-left: auto;
        }
        .page-nav-label {
            display: block;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-text-muted, #6b7280);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        .page-nav-title {
            display: block;
            font-size: 1rem;
            font-weight: 600;
            color: var(--color-primary);
        }
        .page-nav-arrow {
            font-size: 1.25rem;
            display: inline-block;
            transition: transform 0.3s ease;
        }
        .page-nav-link.prev:hover .page-nav-arrow {
            transform: translateX(-4px);
        }
        .page-nav-link.next:hover .page-nav-arrow {
            transform: translateX(4px);
        }

        /* Mobile Navigation */
        @media (max-width: 768px) {
            .doc-container {
                padding: 0 1rem 2rem;
            }
            .doc-section {
                padding: 1.5rem;
            }
            .nav-pills {
                flex-direction: column;
            }
            .nav-pills a {
                text-align: center;
            }
            .page-nav {
                flex-direction: column;
                gap: 1rem;
            }
            .page-nav-link {
                max-width: 100%;
            }
            .breadcrumb {
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <button class="btn btn-sm theme-toggle" onclick="toggleTheme()">
        ğŸŒ“ ãƒ†ãƒ¼ãƒåˆ‡æ›¿
    </button>

    <!-- Scroll to top button -->
    <button class="scroll-top" id="scrollTopBtn" onclick="scrollToTop()" title="ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹">
        â†‘
    </button>

    <div class="doc-header">
        <div class="doc-container">
            <h1>ğŸ§ª Testing Architecture</h1>
            <p>Asagiri Design System - ãƒ†ã‚¹ãƒˆè¨­è¨ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å®Œå…¨ã‚¬ã‚¤ãƒ‰</p>
            <div style="margin-top: 1rem;">
                <a href="../getting-started.html" class="btn btn-outline-light">â† ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æˆ»ã‚‹</a>
                <a href="../api-reference.html" class="btn btn-outline-light" style="margin-left: 0.5rem;">API Reference</a>
            </div>
        </div>
    </div>

    <div class="doc-container">
        <!-- Breadcrumb Navigation -->
        <nav class="breadcrumb" aria-label="ãƒ‘ãƒ³ããšãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
            <div class="breadcrumb-item">
                <a href="../../index.html">Home</a>
                <span class="breadcrumb-separator">/</span>
            </div>
            <div class="breadcrumb-item">
                <a href="../getting-started.html">Docs</a>
                <span class="breadcrumb-separator">/</span>
            </div>
            <div class="breadcrumb-item">
                <a href="./developer-guide.html">Guides</a>
                <span class="breadcrumb-separator">/</span>
            </div>
            <div class="breadcrumb-item active">
                Testing Architecture
            </div>
        </nav>

        <!-- ã‚¯ã‚¤ãƒƒã‚¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="nav-pills">
            <a href="#overview">æ¦‚è¦</a>
            <a href="#visual-regression">ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆ</a>
            <a href="#accessibility">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</a>
            <a href="#cross-browser">ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶</a>
            <a href="#performance">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</a>
            <a href="#unit-tests">ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ</a>
            <a href="#ci-cd">CI/CD</a>
            <a href="#best-practices">ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</a>
        </div>

        <!-- æ¦‚è¦ -->
        <section id="overview" class="doc-section">
            <h2>ğŸ“‹ ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã®æ¦‚è¦</h2>
            <p>Asagiriã¯ã€é«˜å“è³ªãªCSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®å±¤ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ã¾ã™ã€‚</p>

            <h3>ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰</h3>
            <div class="test-grid">
                <div class="test-card">
                    <span class="test-level level-critical">Critical</span>
                    <h4>ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ</h4>
                    <p>UIã®æ„å›³ã—ãªã„å¤‰æ›´ã‚’æ¤œå‡º</p>
                    <ul style="font-size: 0.9rem; margin-bottom: 0;">
                        <li>Chromatic</li>
                        <li>Percy</li>
                        <li>BackstopJS</li>
                    </ul>
                </div>

                <div class="test-card">
                    <span class="test-level level-critical">Critical</span>
                    <h4>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</h4>
                    <p>WCAG 2.1 AAæº–æ‹ ã‚’ä¿è¨¼</p>
                    <ul style="font-size: 0.9rem; margin-bottom: 0;">
                        <li>axe-core</li>
                        <li>WAVE</li>
                        <li>pa11y</li>
                    </ul>
                </div>

                <div class="test-card">
                    <span class="test-level level-high">High</span>
                    <h4>ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ</h4>
                    <p>ä¸»è¦ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®äº’æ›æ€§</p>
                    <ul style="font-size: 0.9rem; margin-bottom: 0;">
                        <li>BrowserStack</li>
                        <li>Sauce Labs</li>
                        <li>Playwright</li>
                    </ul>
                </div>

                <div class="test-card">
                    <span class="test-level level-high">High</span>
                    <h4>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h4>
                    <p>ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–</p>
                    <ul style="font-size: 0.9rem; margin-bottom: 0;">
                        <li>Lighthouse</li>
                        <li>WebPageTest</li>
                        <li>Bundle Size</li>
                    </ul>
                </div>

                <div class="test-card">
                    <span class="test-level level-medium">Medium</span>
                    <h4>ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ãƒ†ã‚¹ãƒˆ</h4>
                    <p>CSSå¤‰æ•°ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯</p>
                    <ul style="font-size: 0.9rem; margin-bottom: 0;">
                        <li>Token Validator</li>
                        <li>Contrast Checker</li>
                    </ul>
                </div>

                <div class="test-card">
                    <span class="test-level level-medium">Medium</span>
                    <h4>SCSSãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ</h4>
                    <p>é–¢æ•°ã¨ãƒŸãƒƒã‚¯ã‚¹ã‚¤ãƒ³ã®æ¤œè¨¼</p>
                    <ul style="font-size: 0.9rem; margin-bottom: 0;">
                        <li>True (Sass testing)</li>
                        <li>Jest + Sass</li>
                    </ul>
                </div>
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–ã®ç›®æ¨™:</strong>
                <ul style="margin-bottom: 0;">
                    <li>ã‚³ãƒŸãƒƒãƒˆå‰: ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒ³ãƒˆã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯</li>
                    <li>PRä½œæˆæ™‚: ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã¨ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</li>
                    <li>ãƒãƒ¼ã‚¸å‰: å…¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆå®Ÿè¡Œ</li>
                    <li>ãƒªãƒªãƒ¼ã‚¹æ™‚: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã¨ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯</li>
                </ul>
            </div>
        </section>

        <!-- ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ -->
        <section id="visual-regression" class="doc-section">
            <h2>ğŸ‘ï¸ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
            <p>UIã®äºˆæœŸã—ãªã„å¤‰æ›´ã‚’è‡ªå‹•çš„ã«æ¤œå‡ºã™ã‚‹ãŸã‚ã®é‡è¦ãªãƒ†ã‚¹ãƒˆå±¤ã§ã™ã€‚</p>

            <h3>ğŸ¨ Chromaticï¼ˆæ¨å¥¨ï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code># ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev chromatic

# package.json ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 
{
  "scripts": {
    "chromatic": "chromatic --project-token=&lt;your-token&gt;"
  }
}

# å®Ÿè¡Œ
npm run chromatic</code></pre>
            </div>

            <h3>ğŸ“¸ Percyï¼ˆGitHub Actionsçµ±åˆï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code># .github/workflows/visual-tests.yml
name: Visual Tests
on: [pull_request]

jobs:
  percy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run build
      - name: Percy Test
        run: npx percy snapshot ./showcase.html
        env:
          PERCY_TOKEN: ${{ secrets.PERCY_TOKEN }}</code></pre>
            </div>

            <h3>ğŸ” BackstopJSï¼ˆã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// backstop.config.js
module.exports = {
  id: "asagiri",
  viewports: [
    {
      label: "phone",
      width: 375,
      height: 667
    },
    {
      label: "tablet",
      width: 768,
      height: 1024
    },
    {
      label: "desktop",
      width: 1920,
      height: 1080
    }
  ],
  scenarios: [
    {
      label: "Components Showcase",
      url: "http://localhost:8080/showcase.html",
      selectors: [".btn", ".card", ".alert"],
      delay: 500
    },
    {
      label: "Dark Mode",
      url: "http://localhost:8080/showcase.html",
      selectors: ["body"],
      onBeforeScript: "dark-mode.js"
    }
  ],
  paths: {
    bitmaps_reference: "backstop_data/bitmaps_reference",
    bitmaps_test: "backstop_data/bitmaps_test",
    html_report: "backstop_data/html_report"
  }
};</code></pre>
            </div>

            <div class="success-box">
                <strong>âœ… ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:</strong>
                <ul style="margin-bottom: 0;">
                    <li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã§ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’å–å¾—</li>
                    <li>ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã¨ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®ä¸¡æ–¹ã‚’ãƒ†ã‚¹ãƒˆ</li>
                    <li>è¤‡æ•°ã®ç”»é¢ã‚µã‚¤ã‚ºã§ãƒ†ã‚¹ãƒˆï¼ˆãƒ¢ãƒã‚¤ãƒ«ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰</li>
                    <li>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå–å¾—</li>
                </ul>
            </div>
        </section>

        <!-- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ -->
        <section id="accessibility" class="doc-section">
            <h2>â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</h2>
            <p>WCAG 2.1 AAæº–æ‹ ã‚’ä¿è¨¼ã—ã€ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨å¯èƒ½ãªUIã‚’æä¾›ã—ã¾ã™ã€‚</p>

            <h3>ğŸ” axe-coreï¼ˆè‡ªå‹•ãƒ†ã‚¹ãƒˆï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// accessibility.test.js
const { AxePuppeteer } = require('@axe-core/puppeteer');
const puppeteer = require('puppeteer');

describe('Accessibility Tests', () => {
  let browser;
  let page;

  beforeAll(async () => {
    browser = await puppeteer.launch();
    page = await browser.newPage();
  });

  afterAll(async () => {
    await browser.close();
  });

  test('Components showcase should be accessible', async () => {
    await page.goto('http://localhost:8080/showcase.html');
    const results = await new AxePuppeteer(page).analyze();

    expect(results.violations).toHaveLength(0);
  });

  test('Dark mode should be accessible', async () => {
    await page.goto('http://localhost:8080/showcase.html');
    await page.evaluate(() => {
      document.documentElement.setAttribute('data-theme', 'dark');
    });

    const results = await new AxePuppeteer(page).analyze();
    expect(results.violations).toHaveLength(0);
  });
});</code></pre>
            </div>

            <h3>ğŸ¯ pa11yï¼ˆCIçµ±åˆï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// pa11y.config.js
module.exports = {
  standard: 'WCAG2AA',
  urls: [
    'http://localhost:8080/showcase.html',
    'http://localhost:8080/docs/getting-started.html'
  ],
  chromeLaunchConfig: {
    args: ['--no-sandbox']
  },
  runners: ['axe', 'htmlcs'],
  threshold: 0 // 0 violations allowed
};

// package.json
{
  "scripts": {
    "test:a11y": "pa11y-ci --config pa11y.config.js"
  }
}</code></pre>
            </div>

            <h3>ğŸ“Š ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ãƒã‚§ãƒƒã‚¯</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// contrast-check.js
const Color = require('colorjs.io');

const colorPairs = [
  { bg: '#ffffff', fg: '#4c5059', name: 'Text on Light' },
  { bg: '#0f0f0f', fg: '#e4e4e7', name: 'Text on Dark' },
  { bg: '#31a9c7', fg: '#ffffff', name: 'Primary Button' }
];

colorPairs.forEach(pair => {
  const ratio = Color.contrastRatio(pair.bg, pair.fg);
  const wcagAA = ratio >= 4.5;
  const wcagAAA = ratio >= 7;

  console.log(`${pair.name}: ${ratio.toFixed(2)}:1`);
  console.log(`  WCAG AA: ${wcagAA ? 'âœ…' : 'âŒ'}`);
  console.log(`  WCAG AAA: ${wcagAAA ? 'âœ…' : 'âŒ'}`);
});</code></pre>
            </div>

            <div class="warning-box">
                <strong>âš ï¸ ãƒã‚§ãƒƒã‚¯é …ç›®:</strong>
                <ul style="margin-bottom: 0;">
                    <li>ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”: 4.5:1 ä»¥ä¸Šï¼ˆWCAG AAï¼‰</li>
                    <li>å¤§ãã„ãƒ†ã‚­ã‚¹ãƒˆ: 3:1 ä»¥ä¸Š</li>
                    <li>UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 3:1 ä»¥ä¸Š</li>
                    <li>ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ</li>
                    <li>ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼äº’æ›æ€§</li>
                    <li>focus indicatorã®è¦–èªæ€§</li>
                </ul>
            </div>
        </section>

        <!-- ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ -->
        <section id="cross-browser" class="doc-section">
            <h2>ğŸŒ ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ</h2>
            <p>ä¸»è¦ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰ã§ã®äº’æ›æ€§ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p>

            <h3>ğŸ­ Playwrightï¼ˆæ¨å¥¨ï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// playwright.config.js
module.exports = {
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] }
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] }
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] }
    },
    {
      name: 'Mobile Chrome',
      use: { ...devices['Pixel 5'] }
    },
    {
      name: 'Mobile Safari',
      use: { ...devices['iPhone 13'] }
    }
  ]
};

// tests/cross-browser.spec.js
test.describe('Cross Browser Tests', () => {
  test('buttons render correctly', async ({ page }) => {
    await page.goto('http://localhost:8080/showcase.html');

    const button = page.locator('.btn-primary').first();
    await expect(button).toBeVisible();
    await expect(button).toHaveCSS('background-color', 'rgb(49, 169, 199)');
  });
});</code></pre>
            </div>

            <h3>ğŸ”§ BrowserStackï¼ˆå®Ÿæ©Ÿãƒ†ã‚¹ãƒˆï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// browserstack.config.js
exports.config = {
  user: process.env.BROWSERSTACK_USERNAME,
  key: process.env.BROWSERSTACK_ACCESS_KEY,

  capabilities: [
    {
      browserName: 'Chrome',
      browser_version: 'latest',
      os: 'Windows',
      os_version: '11'
    },
    {
      browserName: 'Safari',
      browser_version: 'latest',
      os: 'OS X',
      os_version: 'Ventura'
    },
    {
      browserName: 'Edge',
      browser_version: 'latest',
      os: 'Windows',
      os_version: '11'
    }
  ]
};</code></pre>
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ–ãƒ©ã‚¦ã‚¶:</strong>
                <ul style="margin-bottom: 0;">
                    <li>Chrome (æœ€æ–°ç‰ˆ + 2ã¤å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³)</li>
                    <li>Firefox (æœ€æ–°ç‰ˆ + ESR)</li>
                    <li>Safari (æœ€æ–°ç‰ˆ + 1ã¤å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³)</li>
                    <li>Edge (æœ€æ–°ç‰ˆ)</li>
                    <li>ãƒ¢ãƒã‚¤ãƒ«: iOS Safari, Chrome for Android</li>
                </ul>
            </div>
        </section>

        <!-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ -->
        <section id="performance" class="doc-section">
            <h2>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h2>
            <p>é«˜é€Ÿãªãƒ­ãƒ¼ãƒ‰æ™‚é–“ã¨ã‚¹ãƒ ãƒ¼ã‚ºãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p>

            <h3>ğŸ“Š Lighthouse CI</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// lighthouserc.js
module.exports = {
  ci: {
    collect: {
      url: [
        'http://localhost:8080/showcase.html',
        'http://localhost:8080/docs/getting-started.html'
      ],
      numberOfRuns: 3
    },
    assert: {
      assertions: {
        'categories:performance': ['error', { minScore: 0.9 }],
        'categories:accessibility': ['error', { minScore: 0.95 }],
        'categories:best-practices': ['error', { minScore: 0.9 }],
        'first-contentful-paint': ['error', { maxNumericValue: 2000 }],
        'largest-contentful-paint': ['error', { maxNumericValue: 2500 }],
        'cumulative-layout-shift': ['error', { maxNumericValue: 0.1 }]
      }
    },
    upload: {
      target: 'temporary-public-storage'
    }
  }
};</code></pre>
            </div>

            <h3>ğŸ“¦ Bundle Size Check</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// package.json
{
  "scripts": {
    "size": "size-limit",
    "size:why": "size-limit --why"
  }
}

// .size-limit.js
module.exports = [
  {
    name: "Asagiri Full",
    path: "dist/asagiri.min.css",
    limit: "50 KB",
    gzip: true
  },
  {
    name: "Asagiri Core",
    path: "dist/asagiri.core.min.css",
    limit: "20 KB",
    gzip: true
  }
];</code></pre>
            </div>

            <h3>ğŸ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™</h3>
            <table class="api-table" style="width: 100%; margin: 1rem 0;">
                <thead>
                    <tr>
                        <th>æŒ‡æ¨™</th>
                        <th>ç›®æ¨™å€¤</th>
                        <th>èª¬æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>FCP</code></td>
                        <td>&lt; 2.0s</td>
                        <td>First Contentful Paint</td>
                    </tr>
                    <tr>
                        <td><code>LCP</code></td>
                        <td>&lt; 2.5s</td>
                        <td>Largest Contentful Paint</td>
                    </tr>
                    <tr>
                        <td><code>CLS</code></td>
                        <td>&lt; 0.1</td>
                        <td>Cumulative Layout Shift</td>
                    </tr>
                    <tr>
                        <td><code>TTI</code></td>
                        <td>&lt; 3.8s</td>
                        <td>Time to Interactive</td>
                    </tr>
                    <tr>
                        <td><code>Bundle Size</code></td>
                        <td>&lt; 50 KB (gzip)</td>
                        <td>Full framework size</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ -->
        <section id="unit-tests" class="doc-section">
            <h2>ğŸ§© SCSSãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ</h2>
            <p>Sassã®é–¢æ•°ã€ãƒŸãƒƒã‚¯ã‚¹ã‚¤ãƒ³ã€ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</p>

            <h3>Trueï¼ˆSassãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// tests/scss/_colors.scss
@use 'true' as *;
@use '../../scss/Tokens/Color' as *;

@include test-module('Color Functions') {
  @include test('color-mix function') {
    @include assert-equal(
      color-mix(in srgb, red 50%, blue),
      #8000ff,
      'Should mix colors correctly'
    );
  }

  @include test('CSS variable generation') {
    @include assert-true(
      variable-exists(color-primary),
      'Primary color variable should exist'
    );
  }
}</code></pre>
            </div>

            <h3>Jest + Sass</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code>// tests/design-tokens.test.js
const sass = require('sass');
const path = require('path');

describe('Design Tokens', () => {
  let compiledCSS;

  beforeAll(() => {
    const result = sass.compile(
      path.join(__dirname, '../scss/main.scss')
    );
    compiledCSS = result.css.toString();
  });

  test('Primary color is defined', () => {
    expect(compiledCSS).toContain('--color-primary');
  });

  test('Spacing scale is consistent', () => {
    const spacingVars = [
      '--spacing-1', '--spacing-2', '--spacing-3',
      '--spacing-4', '--spacing-5', '--spacing-6'
    ];

    spacingVars.forEach(variable => {
      expect(compiledCSS).toContain(variable);
    });
  });

  test('Dark theme overrides are present', () => {
    expect(compiledCSS).toContain('[data-theme="dark"]');
  });
});</code></pre>
            </div>
        </section>

        <!-- CI/CD -->
        <section id="ci-cd" class="doc-section">
            <h2>ğŸš€ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</h2>
            <p>GitHub Actionsã‚’ä½¿ç”¨ã—ãŸè‡ªå‹•ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã€‚</p>

            <h3>å®Œå…¨ãªãƒ†ã‚¹ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</h3>
            <div class="code-block">
                <button class="btn btn-sm copy-btn" onclick="copyCode(this)">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <pre><code># .github/workflows/test.yml
name: Test Suite

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run lint:scss
      - run: npm run lint:css

  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run build
      - run: npm run size

  unit-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm test

  visual-regression:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run build
      - run: npm run chromatic
        env:
          CHROMATIC_PROJECT_TOKEN: ${{ secrets.CHROMATIC_TOKEN }}

  accessibility:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run build
      - run: npm start &
      - run: npm run test:a11y

  cross-browser:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npx playwright install --with-deps
      - run: npm run test:cross-browser

  performance:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run build
      - run: npm start &
      - run: npm run lighthouse
        env:
          LHCI_GITHUB_APP_TOKEN: ${{ secrets.LHCI_TOKEN }}</code></pre>
            </div>
        </section>

        <!-- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ -->
        <section id="best-practices" class="doc-section">
            <h2>â­ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</h2>

            <h3>âœ… ãƒ†ã‚¹ãƒˆã‚’æˆåŠŸã•ã›ã‚‹ãŸã‚ã®æ¨å¥¨äº‹é …</h3>
            <div class="success-box">
                <ul style="margin-bottom: 0;">
                    <li><strong>å°ã•ãå§‹ã‚ã‚‹:</strong> æœ€ã‚‚é‡è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰å„ªå…ˆçš„ã«ãƒ†ã‚¹ãƒˆ</li>
                    <li><strong>è‡ªå‹•åŒ–ã™ã‚‹:</strong> CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆã—ã¦æ‰‹å‹•ãƒ†ã‚¹ãƒˆã‚’å‰Šæ¸›</li>
                    <li><strong>å®šæœŸçš„ã«å®Ÿè¡Œ:</strong> PRä½œæˆæ™‚ã€ãƒãƒ¼ã‚¸å‰ã€ãƒªãƒªãƒ¼ã‚¹å‰ã«å¿…ãšå®Ÿè¡Œ</li>
                    <li><strong>ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¿½è·¡:</strong> ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</li>
                    <li><strong>å¤±æ•—ã‚’å­¦ç¿’ã«å¤‰ãˆã‚‹:</strong> ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯åŸå› ã‚’åˆ†æã—ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–</li>
                </ul>
            </div>

            <h3>âŒ ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´</h3>
            <div class="warning-box">
                <ul style="margin-bottom: 0;">
                    <li><strong>éå‰°ãªãƒ†ã‚¹ãƒˆ:</strong> ã™ã¹ã¦ã‚’ãƒ†ã‚¹ãƒˆã—ã‚ˆã†ã¨ã—ã¦ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒå¢—å¤§</li>
                    <li><strong>ãƒ•ãƒ¬ã‚¤ã‚­ãƒ¼ãƒ†ã‚¹ãƒˆ:</strong> ä¸å®‰å®šãªãƒ†ã‚¹ãƒˆã¯ä¿¡é ¼æ€§ã‚’æãªã†</li>
                    <li><strong>é…ã„ãƒ†ã‚¹ãƒˆ:</strong> å®Ÿè¡Œæ™‚é–“ãŒé•·ã„ã¨CI/CDãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«</li>
                    <li><strong>outdatedã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ:</strong> å®šæœŸçš„ãªæ›´æ–°ã‚’å¿˜ã‚Œãªã„</li>
                </ul>
            </div>

            <h3>ğŸ“š æ¨å¥¨ãƒ„ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯</h3>
            <table class="api-table" style="width: 100%; margin: 1rem 0;">
                <thead>
                    <tr>
                        <th>ã‚«ãƒ†ã‚´ãƒª</th>
                        <th>ãƒ„ãƒ¼ãƒ«</th>
                        <th>ç†ç”±</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«</td>
                        <td>Chromatic</td>
                        <td>Storybookçµ±åˆã€PRè‡ªå‹•ã‚³ãƒ¡ãƒ³ãƒˆ</td>
                    </tr>
                    <tr>
                        <td>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</td>
                        <td>axe-core + pa11y</td>
                        <td>æ¥­ç•Œæ¨™æº–ã€CI/CDå¯¾å¿œ</td>
                    </tr>
                    <tr>
                        <td>ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶</td>
                        <td>Playwright</td>
                        <td>é«˜é€Ÿã€ä¿¡é ¼æ€§é«˜ã„ã€å®Ÿæ©Ÿä¸è¦</td>
                    </tr>
                    <tr>
                        <td>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</td>
                        <td>Lighthouse CI</td>
                        <td>ç„¡æ–™ã€è©³ç´°ãªãƒ¬ãƒãƒ¼ãƒˆ</td>
                    </tr>
                    <tr>
                        <td>ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ</td>
                        <td>Jest + True</td>
                        <td>JavaScriptã¨Sassã®ä¸¡å¯¾å¿œ</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ”— æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <div class="nav-pills">
                <a href="./developer-guide.html">Developer Guide</a>
                <a href="../api-reference.html">API Reference</a>
                <a href="./practical-examples.html">å®Ÿç”¨ä¾‹</a>
                <a href="../getting-started.html">Getting Started</a>
            </div>
        </section>

        <!-- Previous/Next Navigation -->
        <nav class="page-nav" aria-label="ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
            <a href="./developer-guide.html" class="page-nav-link prev">
                <span class="page-nav-label">
                    <span class="page-nav-arrow">â†</span> Previous
                </span>
                <span class="page-nav-title">Developer Guide</span>
            </a>
            <a href="./practical-examples.html" class="page-nav-link next">
                <span class="page-nav-label">
                    Next <span class="page-nav-arrow">â†’</span>
                </span>
                <span class="page-nav-title">Practical Examples</span>
            </a>
        </nav>
    </div>

    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }

        function copyCode(button) {
            const codeBlock = button.parentElement.querySelector('code');
            const text = codeBlock.textContent;
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = 'âœ… ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }

        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);

        // Scroll to top functionality
        const scrollTopBtn = document.getElementById('scrollTopBtn');

        if (scrollTopBtn) {
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollTopBtn.classList.add('show');
                } else {
                    scrollTopBtn.classList.remove('show');
                }
            });
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html>
