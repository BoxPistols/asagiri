<!DOCTYPE html>
<html lang="ja" data-theme="light">
<head>
    <script>
        // âš¡ IMPORTANT: ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å‰ã«å®Ÿè¡Œã—ã¦ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚’é˜²ã
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒ‡ãƒ¢ - Asagiri</title>
    <link rel="stylesheet" href="../dist/asagiri.min.css">
    <style>
        body {
            min-height: 100vh;
            background-color: var(--color-bg);
            color: var(--color-text);
            padding: 2rem;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .theme-controls {
            position: fixed;
            top: 2rem;
            right: 2rem;
            display: flex;
            gap: 1rem;
            flex-direction: column;
        }

        .current-theme {
            padding: 1rem;
            background: var(--color-box);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
        }

        .demo-section {
            margin-bottom: 3rem;
        }

        .component-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>ğŸŒ™ ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒ‡ãƒ¢</h1>
        <p>å³ä¸Šã®ãƒœã‚¿ãƒ³ã§ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã¿ã¦ãã ã•ã„ã€‚è¨­å®šã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚</p>

        <!-- ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
        <div class="theme-controls">
            <!-- æ–¹æ³•1: ã‚·ãƒ³ãƒ—ãƒ«ãªãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ -->
            <button class="btn btn-primary" onclick="toggleTheme()">
                ğŸŒ“ ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ
            </button>

            <!-- æ–¹æ³•2: ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯ãƒœã‚¿ãƒ³ -->
            <div style="display: flex; gap: 0.5rem;">
                <button class="btn btn-sm btn-outline-primary" onclick="setTheme('light')">
                    â˜€ï¸ ãƒ©ã‚¤ãƒˆ
                </button>
                <button class="btn btn-sm btn-outline-primary" onclick="setTheme('dark')">
                    ğŸŒ™ ãƒ€ãƒ¼ã‚¯
                </button>
            </div>

            <!-- æ–¹æ³•3: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«å¾“ã† -->
            <button class="btn btn-sm btn-outline-secondary" onclick="setTheme('auto')">
                ğŸ’» ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
            </button>
        </div>

        <!-- ç¾åœ¨ã®ãƒ†ãƒ¼ãƒè¡¨ç¤º -->
        <div class="current-theme">
            <h3>ç¾åœ¨ã®ãƒ†ãƒ¼ãƒ</h3>
            <p>ãƒ†ãƒ¼ãƒ: <strong id="currentTheme">-</strong></p>
            <p>ä¿å­˜çŠ¶æ…‹: <strong id="savedTheme">-</strong></p>
            <p>ã‚·ã‚¹ãƒ†ãƒ è¨­å®š: <strong id="systemTheme">-</strong></p>
        </div>

        <!-- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‡ãƒ¢ -->
        <section class="demo-section">
            <h2>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§</h2>
            <p>ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè‡ªå‹•çš„ã«ãƒ†ãƒ¼ãƒã«å¯¾å¿œã—ã¾ã™</p>

            <div class="component-showcase">
                <!-- Card -->
                <div class="card">
                    <div class="card-header">
                        <h4>ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h4>
                    </div>
                    <div class="card-body">
                        <p>ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€èƒŒæ™¯è‰²ã¨ãƒ†ã‚­ã‚¹ãƒˆè‰²ãŒè‡ªå‹•çš„ã«å¤‰ã‚ã‚Šã¾ã™ã€‚</p>
                        <button class="btn btn-primary">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</button>
                    </div>
                </div>

                <!-- Alerts -->
                <div>
                    <h4>ã‚¢ãƒ©ãƒ¼ãƒˆ</h4>
                    <div class="alert alert-success">æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</div>
                    <div class="alert alert-warning">è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</div>
                    <div class="alert alert-danger">ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</div>
                </div>

                <!-- Badges -->
                <div>
                    <h4>ãƒãƒƒã‚¸</h4>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <span class="badge badge-primary">Primary</span>
                        <span class="badge badge-success">Success</span>
                        <span class="badge badge-warning">Warning</span>
                        <span class="badge badge-danger">Danger</span>
                        <span class="badge badge-info">Info</span>
                    </div>
                </div>

                <!-- Buttons -->
                <div>
                    <h4>ãƒœã‚¿ãƒ³</h4>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <button class="btn btn-primary">Primary</button>
                        <button class="btn btn-secondary">Secondary</button>
                        <button class="btn btn-success">Success</button>
                        <button class="btn btn-danger">Danger</button>
                    </div>
                </div>

                <!-- Form -->
                <div class="card">
                    <div class="card-body">
                        <h4>ãƒ•ã‚©ãƒ¼ãƒ </h4>
                        <input type="text" placeholder="ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›" style="width: 100%; margin-bottom: 0.5rem;">
                        <select style="width: 100%; margin-bottom: 0.5rem;">
                            <option>ã‚ªãƒ—ã‚·ãƒ§ãƒ³1</option>
                            <option>ã‚ªãƒ—ã‚·ãƒ§ãƒ³2</option>
                        </select>
                        <textarea placeholder="ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢" style="width: 100%;"></textarea>
                    </div>
                </div>

                <!-- Progress -->
                <div>
                    <h4>ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹</h4>
                    <div class="progress">
                        <div class="progress-bar progress-bar-primary" style="width: 60%"></div>
                    </div>
                    <div class="progress">
                        <div class="progress-bar progress-bar-success progress-bar-striped" style="width: 80%"></div>
                    </div>
                </div>

                <!-- Avatar -->
                <div>
                    <h4>ã‚¢ãƒã‚¿ãƒ¼</h4>
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <div class="avatar avatar-md">
                            <img src="https://i.pravatar.cc/150?img=1" alt="User">
                            <span class="avatar-status avatar-status-online"></span>
                        </div>
                        <div class="avatar avatar-md">
                            <img src="https://i.pravatar.cc/150?img=2" alt="User">
                            <span class="avatar-status avatar-status-away"></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å®Ÿè£…ã‚³ãƒ¼ãƒ‰ -->
        <section class="demo-section">
            <h2>ğŸ“‹ å®Ÿè£…ã‚³ãƒ¼ãƒ‰ï¼ˆã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ãˆã¾ã™ï¼‰</h2>

            <div class="card">
                <div class="card-header">
                    <h3>åŸºæœ¬çš„ãªå®Ÿè£…</h3>
                </div>
                <div class="card-body">
                    <h4>1. HTMLã« data-theme å±æ€§ã‚’è¿½åŠ </h4>
                    <pre style="background: var(--color-bg-code); padding: 1rem; border-radius: 0.5rem; overflow-x: auto;"><code>&lt;html lang="ja" data-theme="light"&gt;</code></pre>

                    <h4>2. JavaScriptã§åˆ‡ã‚Šæ›¿ãˆé–¢æ•°ã‚’å®Ÿè£…</h4>
                    <pre style="background: var(--color-bg-code); padding: 1rem; border-radius: 0.5rem; overflow-x: auto;"><code>&lt;script&gt;
// ã‚·ãƒ³ãƒ—ãƒ«ãªãƒˆã‚°ãƒ«
function toggleTheme() {
    const html = document.documentElement;
    const current = html.getAttribute('data-theme');
    const newTheme = current === 'dark' ? 'light' : 'dark';
    html.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
}

// ãƒ†ãƒ¼ãƒã‚’è¨­å®š
function setTheme(theme) {
    if (theme === 'auto') {
        // ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«å¾“ã†
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        theme = prefersDark ? 'dark' : 'light';
        localStorage.removeItem('theme'); // autoè¨­å®šã‚’ä¿å­˜
    }
    document.documentElement.setAttribute('data-theme', theme);
    if (theme !== 'auto') {
        localStorage.setItem('theme', theme);
    }
}

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ†ãƒ¼ãƒã‚’å¾©å…ƒ
const savedTheme = localStorage.getItem('theme') || 'light';
document.documentElement.setAttribute('data-theme', savedTheme);
&lt;/script&gt;</code></pre>

                    <h4>3. ãƒœã‚¿ãƒ³ã‚’è¿½åŠ </h4>
                    <pre style="background: var(--color-bg-code); padding: 1rem; border-radius: 0.5rem; overflow-x: auto;"><code>&lt;button onclick="toggleTheme()"&gt;ğŸŒ“ ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ&lt;/button&gt;</code></pre>
                </div>
            </div>

            <div class="card" style="margin-top: 2rem;">
                <div class="card-header">
                    <h3>é«˜åº¦ãªå®Ÿè£…ï¼ˆãƒ•ãƒ©ãƒƒã‚·ãƒ¥é˜²æ­¢ï¼‰</h3>
                </div>
                <div class="card-body">
                    <p>ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®ãƒ†ãƒ¼ãƒãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚’é˜²ããŸã‚ã€&lt;head&gt;ã®æœ€åˆã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’é…ç½®ï¼š</p>
                    <pre style="background: var(--color-bg-code); padding: 1rem; border-radius: 0.5rem; overflow-x: auto;"><code>&lt;head&gt;
    &lt;!-- æœ€åˆã«å®Ÿè¡Œã—ã¦ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚’é˜²ã --&gt;
    &lt;script&gt;
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    &lt;/script&gt;

    &lt;meta charset="UTF-8"&gt;
    &lt;link rel="stylesheet" href="dist/asagiri.min.css"&gt;
&lt;/head&gt;</code></pre>
                </div>
            </div>

            <div class="card" style="margin-top: 2rem;">
                <div class="card-header">
                    <h3>ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã¨ã®é€£æº</h3>
                </div>
                <div class="card-body">
                    <pre style="background: var(--color-bg-code); padding: 1rem; border-radius: 0.5rem; overflow-x: auto;"><code>&lt;script&gt;
// ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰è¨­å®šã‚’æ¤œå‡º
function getPreferredTheme() {
    const saved = localStorage.getItem('theme');
    if (saved) return saved;

    // ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã‚’ç¢ºèª
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
}

// ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®å¤‰æ›´ã‚’ç›£è¦–
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•è¨­å®šã—ã¦ã„ãªã„å ´åˆã®ã¿å¤‰æ›´
    if (!localStorage.getItem('theme')) {
        const newTheme = e.matches ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', newTheme);
    }
});

// åˆæœŸåŒ–
const theme = getPreferredTheme();
document.documentElement.setAttribute('data-theme', theme);
&lt;/script&gt;</code></pre>
                </div>
            </div>
        </section>

        <!-- ã‚ˆãã‚ã‚‹è³ªå• -->
        <section class="demo-section">
            <h2>ğŸ’¡ ã‚ˆãã‚ã‚‹è³ªå•</h2>

            <div class="card">
                <div class="card-body">
                    <h4>Q: ãƒ†ãƒ¼ãƒãŒä¿å­˜ã•ã‚Œãªã„</h4>
                    <p>A: <code>localStorage.setItem('theme', newTheme)</code> ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>

                    <h4>Q: ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ä¸€ç¬åˆ¥ã®ãƒ†ãƒ¼ãƒãŒè¡¨ç¤ºã•ã‚Œã‚‹</h4>
                    <p>A: ãƒ†ãƒ¼ãƒå¾©å…ƒã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’&lt;head&gt;ã®æœ€åˆã«é…ç½®ã—ã¦ãã ã•ã„ï¼ˆCSSã‚ˆã‚Šå‰ï¼‰ã€‚</p>

                    <h4>Q: ä¸€éƒ¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚‰ãªã„</h4>
                    <p>A: ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒCSSå¤‰æ•°ï¼ˆ<code>var(--color-*)</code>ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>

                    <h4>Q: ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ã‚’ä½¿ã„ãŸã„</h4>
                    <p>A: CSSå¤‰æ•°ã‚’ä¸Šæ›¸ãã™ã‚‹ã“ã¨ã§ç°¡å˜ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ï¼š</p>
                    <pre style="background: var(--color-bg-code); padding: 1rem; border-radius: 0.5rem; overflow-x: auto;"><code>[data-theme="dark"] {
    --color-primary: #your-color;
    --color-bg: #your-bg-color;
}</code></pre>
                </div>
            </div>
        </section>
    </div>

    <script>
        // ============================================
        // ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆé–¢æ•°
        // ============================================

        // ã‚·ãƒ³ãƒ—ãƒ«ãªãƒˆã‚°ãƒ«
        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute('data-theme');
            const newTheme = current === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
            updateThemeDisplay();
        }

        // ãƒ†ãƒ¼ãƒã‚’è¨­å®š
        function setTheme(theme) {
            if (theme === 'auto') {
                // ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«å¾“ã†
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                const actualTheme = prefersDark ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', actualTheme);
                localStorage.removeItem('theme');
            } else {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
            }
            updateThemeDisplay();
        }

        // ç¾åœ¨ã®ãƒ†ãƒ¼ãƒæƒ…å ±ã‚’è¡¨ç¤º
        function updateThemeDisplay() {
            const current = document.documentElement.getAttribute('data-theme');
            const saved = localStorage.getItem('theme') || 'ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«å¾“ã†';
            const systemPrefers = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';

            document.getElementById('currentTheme').textContent = current;
            document.getElementById('savedTheme').textContent = saved;
            document.getElementById('systemTheme').textContent = systemPrefers;
        }

        // ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®å¤‰æ›´ã‚’ç›£è¦–
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•è¨­å®šã—ã¦ã„ãªã„å ´åˆã®ã¿å¤‰æ›´
            if (!localStorage.getItem('theme')) {
                const newTheme = e.matches ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', newTheme);
                updateThemeDisplay();
            }
        });

        // åˆæœŸåŒ–
        window.addEventListener('DOMContentLoaded', () => {
            updateThemeDisplay();
        });
    </script>
</body>
</html>
