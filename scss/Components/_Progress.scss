// ============================================================
// Progress Bar Component
// ============================================================
// Progress indicator for tasks, uploads, and processes
//
// Usage:
//   <div class="progress">
//     <div class="progress-bar" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%">
//       <span class="progress-label">75%</span>
//     </div>
//   </div>

// Progress Container
.progress {
  display: flex;
  height: 1rem;
  overflow: hidden;
  font-size: 0.75rem;
  background-color: var(--color-bg, #f0f0f0);
  border-radius: 0.375rem;

  [data-theme="dark"] & {
    background-color: color-mix(in srgb, var(--color-box) 50%, #000);
  }
}

// Progress Bar
.progress-bar {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  background-color: var(--color-primary, #31a9c7);
  transition: width 0.6s ease;

  [data-theme="dark"] & {
    background-color: var(--color-primary-light, #4ec4df);
    color: #000;
  }

  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }
}

// Progress Label
.progress-label {
  font-size: 0.75rem;
  font-weight: 600;
  line-height: 1;
}

// Progress Bar Color Variants
.progress-bar-success {
  background-color: var(--color-success, #00a859);

  [data-theme="dark"] & {
    background-color: var(--color-success-light, #22c55e);
  }
}

.progress-bar-warning {
  background-color: var(--color-warning, #ebbb0c);
  color: #000;

  [data-theme="dark"] & {
    background-color: var(--color-warning-light, #fbbf24);
  }
}

.progress-bar-danger {
  background-color: var(--color-danger, #e1323c);

  [data-theme="dark"] & {
    background-color: var(--color-danger-light, #ef4444);
  }
}

.progress-bar-info {
  background-color: var(--color-info, #1ec2c2);

  [data-theme="dark"] & {
    background-color: var(--color-info-light, #22d3ee);
  }
}

// Progress Sizes
.progress-sm {
  height: 0.5rem;

  .progress-label {
    display: none; // Too small for label
  }
}

.progress-lg {
  height: 1.5rem;

  .progress-label {
    font-size: 0.875rem;
  }
}

.progress-xl {
  height: 2rem;

  .progress-label {
    font-size: 1rem;
  }
}

// Striped Progress Bar
.progress-bar-striped {
  background-image: linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.15) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.15) 75%,
    transparent 75%,
    transparent
  );
  background-size: 1rem 1rem;
}

// Animated Progress Bar
.progress-bar-animated {
  animation: progress-bar-stripes 1s linear infinite;

  @media (prefers-reduced-motion: reduce) {
    animation: none;
  }
}

@keyframes progress-bar-stripes {
  0% {
    background-position: 1rem 0;
  }
  100% {
    background-position: 0 0;
  }
}

// Indeterminate Progress (loading state)
.progress-indeterminate {
  .progress-bar {
    width: 100% !important;
    background: linear-gradient(
      90deg,
      transparent,
      var(--color-primary, #31a9c7),
      transparent
    );
    background-size: 50% 100%;
    animation: progress-indeterminate 1.5s ease-in-out infinite;

    [data-theme="dark"] & {
      background: linear-gradient(
        90deg,
        transparent,
        var(--color-primary-light, #4ec4df),
        transparent
      );
    }

    @media (prefers-reduced-motion: reduce) {
      animation: none;
      background: var(--color-primary, #31a9c7);
    }
  }
}

@keyframes progress-indeterminate {
  0% {
    background-position: -50% 0;
  }
  100% {
    background-position: 150% 0;
  }
}

// Stacked Progress Bars
.progress-stacked {
  .progress-bar {
    &:not(:last-child) {
      border-right: 1px solid rgba(255, 255, 255, 0.2);
    }
  }
}

// Vertical Progress Bar
.progress-vertical {
  flex-direction: column;
  width: 1rem;
  height: 100%;

  .progress-bar {
    width: 100%;
    transition: height 0.6s ease;

    @media (prefers-reduced-motion: reduce) {
      transition: none;
    }
  }

  &.progress-sm {
    width: 0.5rem;
  }

  &.progress-lg {
    width: 1.5rem;
  }

  &.progress-xl {
    width: 2rem;
  }
}

// Progress with Label Outside
.progress-with-label {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2, 0.5rem);

  .progress-label-text {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-text, #4c5059);

    [data-theme="dark"] & {
      color: var(--color-text, #e4e4e7);
    }
  }

  .progress {
    .progress-label {
      display: none; // Hide internal label when using external
    }
  }
}

// Rounded Progress Bar
.progress-rounded {
  border-radius: 2rem;

  .progress-bar {
    border-radius: 2rem;
  }
}

// Square Progress Bar
.progress-square {
  border-radius: 0;

  .progress-bar {
    border-radius: 0;
  }
}
