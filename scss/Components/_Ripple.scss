// ============================================================
// Ripple Effect Component
// ============================================================
// Material Design 3 inspired ripple effect for interactive elements
// Inspired by BeerCSS approach
//
// Usage:
//   <button class="btn ripple">Click me</button>
//   or add .ripple class to any interactive element
//
// JavaScript is required to create the ripple span on click

// Ripple container mixin
@mixin ripple-container {
  position: relative;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
}

// Ripple element (the actual circle)
.ripple {
  @include ripple-container;

  // The ripple circle element (created via JS)
  .ripple-wave {
    position: absolute;
    border-radius: 50%;
    background-color: currentColor;
    opacity: 0.2;
    transform: scale(0);
    pointer-events: none;
    animation: ripple-animation 0.6s ease-out forwards;

    [data-theme="dark"] & {
      opacity: 0.25;
    }
  }
}

// Light ripple variant (for dark backgrounds)
.ripple-light {
  @include ripple-container;

  .ripple-wave {
    position: absolute;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.4);
    transform: scale(0);
    pointer-events: none;
    animation: ripple-animation 0.6s ease-out forwards;
  }
}

// Dark ripple variant (for light backgrounds)
.ripple-dark {
  @include ripple-container;

  .ripple-wave {
    position: absolute;
    border-radius: 50%;
    background-color: rgba(0, 0, 0, 0.15);
    transform: scale(0);
    pointer-events: none;
    animation: ripple-animation 0.6s ease-out forwards;
  }
}

// Primary color ripple
.ripple-primary {
  @include ripple-container;

  .ripple-wave {
    position: absolute;
    border-radius: 50%;
    background-color: var(--color-primary, #31a9c7);
    opacity: 0.3;
    transform: scale(0);
    pointer-events: none;
    animation: ripple-animation 0.6s ease-out forwards;
  }
}

// Success color ripple
.ripple-success {
  @include ripple-container;

  .ripple-wave {
    position: absolute;
    border-radius: 50%;
    background-color: var(--color-success, #00a859);
    opacity: 0.3;
    transform: scale(0);
    pointer-events: none;
    animation: ripple-animation 0.6s ease-out forwards;
  }
}

// Danger color ripple
.ripple-danger {
  @include ripple-container;

  .ripple-wave {
    position: absolute;
    border-radius: 50%;
    background-color: var(--color-danger, #e1323c);
    opacity: 0.3;
    transform: scale(0);
    pointer-events: none;
    animation: ripple-animation 0.6s ease-out forwards;
  }
}

// Ripple Animation
@keyframes ripple-animation {
  0% {
    transform: scale(0);
    opacity: 0.3;
  }
  50% {
    opacity: 0.2;
  }
  100% {
    transform: scale(2.5);
    opacity: 0;
  }
}

// Unbounded ripple (for FABs, icon buttons)
.ripple-unbounded {
  overflow: visible;

  .ripple-wave {
    animation: ripple-unbounded-animation 0.5s ease-out forwards;
  }
}

@keyframes ripple-unbounded-animation {
  0% {
    transform: scale(0);
    opacity: 0.35;
  }
  100% {
    transform: scale(3);
    opacity: 0;
  }
}

// Centered ripple (for icon buttons, FABs)
// Note: The JavaScript (createCenteredRipple) handles positioning via inline styles.
// This class provides a CSS-only fallback for static centered ripples.
.ripple-centered {
  .ripple-wave {
    // Use transform for centering to avoid !important conflicts with JS inline styles
    transform: scale(0) translate(-50%, -50%);
    transform-origin: center center;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .ripple,
  .ripple-light,
  .ripple-dark,
  .ripple-primary,
  .ripple-success,
  .ripple-danger {
    .ripple-wave {
      animation: none;
      opacity: 0;
    }
  }
}
